(()=>{var e={};e.id=738,e.ids=[738],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},21506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>x,tree:()=>c});var a=s(67096),r=s(16132),l=s(37284),n=s.n(l),i=s(32564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["rate",{children:["[username]",{children:["[itemId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21663)),"/Users/wikiwoo/Desktop/WEBX/trial/app/rate/[username]/[itemId]/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,8937)),"/Users/wikiwoo/Desktop/WEBX/trial/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/wikiwoo/Desktop/WEBX/trial/app/rate/[username]/[itemId]/page.tsx"],d="/rate/[username]/[itemId]/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/rate/[username]/[itemId]/page",pathname:"/rate/[username]/[itemId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},43151:(e,t,s)=>{Promise.resolve().then(s.bind(s,14233))},14233:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(53854),r=s(7857),l=s(63165),n=s(49457),i=s(30991),o=s(75930),c=s(66609),u=s(34218);function d({params:e}){let{itemId:t,username:s}=e,[d,m]=(0,u.useState)(null),[x,p]=(0,u.useState)(null),[h,f]=(0,u.useState)(3),[g,w]=(0,u.useState)(""),[j,v]=(0,u.useState)(!1),[y,P]=(0,u.useState)(""),[b,N]=(0,u.useState)(null);(0,u.useEffect)(()=>{(0,c.getSession)().then(e=>{e&&e.user?.name&&(0,o.PR)(e.user.name).then(e=>{m(e),(0,o.XZ)(t,e.username).then(e=>{null!=e&&(N(e),f(e.stars),w(e.comment))})})})},[x]),(0,u.useEffect)(()=>{(0,o.PF)(t).then(e=>{p(e)})},[t]);let _=async()=>{let e;null!=d&&(v(!0),(e=null==b?await (0,o.xi)({comment:g,stars:h,target:t,author:d.username}):await (0,o.g8)(b.id,{comment:g,stars:h})).changes&&e.changes>0?window.location.href=`/item/${s}/${t}`:P("Something went wrong. Try again."))};return null==d?a.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full",children:"Log in"}):a.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full",children:(0,a.jsxs)(l.Zb,{className:"w-[400px]",children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Create your review"}),a.jsx(l.SZ,{children:"Write your review for the item below."})]}),(0,a.jsxs)(l.aY,{className:"flex flex-col items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[a.jsx("span",{className:"text-lg",children:"Item"}),(0,a.jsxs)("a",{href:`/item/${s}/${t}`,className:"flex flex-row justify-start items-center border gap-4 ps-4",children:[a.jsx("img",{src:x?.image,className:"w-12 h-12 rounded-xl border"}),a.jsx("span",{className:"text-sm underline",children:x?.title})]})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-baseline",children:[a.jsx("span",{className:"text-lg",children:"Rating:"}),(0,a.jsxs)("span",{className:"text-lg "+(h<2?"text-red-500":h<4?"text-yellow-500":"text-green-500"),children:[h," stars"]})]}),a.jsx(n.i,{className:"w-full",min:0,max:5,step:1,value:[h],onValueChange:e=>{f(e[0])}})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[a.jsx("span",{children:"Additional comments"}),a.jsx(i.g,{className:"w-full",placeholder:"I love this item...",value:g,onChange:e=>{w(e.target.value)}})]})]}),a.jsx(l.eW,{className:"w-full",children:a.jsx(r.z,{disabled:j,className:"w-full",onClick:_,children:j?"Submitting...":""!=y?y:null!=b?"Update review":"Submit review"})})]})})}},21663:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>o});var a=s(95153);let r=(0,a.createProxy)(String.raw`/Users/wikiwoo/Desktop/WEBX/trial/app/rate/[username]/[itemId]/page.tsx`),{__esModule:l,$$typeof:n}=r,i=r.default,o=i}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[271,791,323,622,370,356],()=>s(21506));module.exports=a})();